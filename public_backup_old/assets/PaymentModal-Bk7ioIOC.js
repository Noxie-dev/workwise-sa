import{a as o,j as e}from"./vendor-BOJOR_z2.js";import{p as f,X as w,aq as C,I as n,aw as P,B as u,aa as k}from"./contact-C28TQl3y.js";import{a as S}from"./index-BYuk7_JU.js";const M=({amount:c,currency:i,onClose:m,onSuccess:g,productName:p})=>{const{toast:h}=S(),[d,b]=o.useState(!1),[l,x]=o.useState("card"),[a,r]=o.useState({number:"",expiry:"",cvv:"",name:""}),y=async()=>{b(!0);try{await new Promise(s=>setTimeout(s,2e3)),h({title:"Payment Successful!",description:`Your payment of ${i} ${c} has been processed.`}),g()}catch{h({title:"Payment Failed",description:"There was an error processing your payment. Please try again.",variant:"destructive"})}finally{b(!1)}},j=s=>{const t=s.target.value.replace(/\D/g,"").replace(/(\d{4})(?=\d)/g,"$1 ").trim();t.length<=19&&r({...a,number:t})},v=s=>{const t=s.target.value.replace(/\D/g,"").replace(/(\d{2})(?=\d)/g,"$1/").trim();t.length<=5&&r({...a,expiry:t})},N=s=>{const t=s.target.value.replace(/\D/g,"");t.length<=4&&r({...a,cvv:t})};return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:e.jsx(f,{className:"w-full max-w-md bg-white rounded-lg shadow-xl",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Secure Payment"}),e.jsx("button",{onClick:m,className:"text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(w,{className:"h-5 w-5"})})]}),e.jsx("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900",children:p}),e.jsx("p",{className:"text-sm text-gray-600",children:"Professional CV Generation"})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:[i," ",c]}),e.jsx("p",{className:"text-xs text-gray-500",children:"One-time payment"})]})]})}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-3",children:"Payment Method"}),e.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[e.jsxs("button",{onClick:()=>x("card"),className:`p-3 border rounded-lg text-center transition-colors ${l==="card"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx(C,{className:"h-5 w-5 mx-auto mb-1"}),e.jsx("span",{className:"text-xs",children:"Card"})]}),e.jsxs("button",{onClick:()=>x("paypal"),className:`p-3 border rounded-lg text-center transition-colors ${l==="paypal"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"h-5 w-5 mx-auto mb-1 bg-blue-600 rounded text-white text-xs flex items-center justify-center font-bold",children:"P"}),e.jsx("span",{className:"text-xs",children:"PayPal"})]}),e.jsxs("button",{onClick:()=>x("eft"),className:`p-3 border rounded-lg text-center transition-colors ${l==="eft"?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-200 hover:border-gray-300"}`,children:[e.jsx("div",{className:"h-5 w-5 mx-auto mb-1 bg-green-600 rounded text-white text-xs flex items-center justify-center font-bold",children:"E"}),e.jsx("span",{className:"text-xs",children:"EFT"})]})]})]}),l==="card"&&e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Card Number"}),e.jsx(n,{type:"text",placeholder:"1234 5678 9012 3456",value:a.number,onChange:j,className:"w-full"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Expiry Date"}),e.jsx(n,{type:"text",placeholder:"MM/YY",value:a.expiry,onChange:v,className:"w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"CVV"}),e.jsx(n,{type:"text",placeholder:"123",value:a.cvv,onChange:N,className:"w-full"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cardholder Name"}),e.jsx(n,{type:"text",placeholder:"John Doe",value:a.name,onChange:s=>r({...a,name:s.target.value}),className:"w-full"})]})]}),l==="paypal"&&e.jsx("div",{className:"bg-yellow-50 p-4 rounded-lg mb-6 text-center",children:e.jsx("p",{className:"text-sm text-gray-600",children:"You will be redirected to PayPal to complete your payment."})}),l==="eft"&&e.jsxs("div",{className:"bg-green-50 p-4 rounded-lg mb-6",children:[e.jsx("p",{className:"text-sm text-gray-600 mb-2",children:'Bank transfer details will be provided after clicking "Pay Now".'}),e.jsx("p",{className:"text-xs text-gray-500",children:"Processing time: 1-3 business days"})]}),e.jsxs("div",{className:"flex items-center justify-center space-x-2 mb-6 text-xs text-gray-500",children:[e.jsx(P,{className:"h-4 w-4"}),e.jsx("span",{children:"Secured by 256-bit SSL encryption"})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(u,{onClick:m,variant:"outline",className:"flex-1",disabled:d,children:"Cancel"}),e.jsx(u,{onClick:y,className:"flex-1 bg-blue-600 hover:bg-blue-700",disabled:d,children:d?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),e.jsx("span",{children:"Processing..."})]}):e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(k,{className:"h-4 w-4"}),e.jsxs("span",{children:["Pay ",i," ",c]})]})})]}),e.jsxs("p",{className:"text-xs text-gray-500 text-center mt-4",children:["By completing this payment, you agree to our"," ",e.jsx("a",{href:"/terms",className:"text-blue-600 hover:underline",children:"Terms of Service"})," ","and"," ",e.jsx("a",{href:"/privacy",className:"text-blue-600 hover:underline",children:"Privacy Policy"}),"."]})]})})})};export{M as default};
