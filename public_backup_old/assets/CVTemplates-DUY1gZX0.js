const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/cvService-4gkQvP8v.js","assets/vendor-BOJOR_z2.js","assets/PaymentModal-Bk7ioIOC.js","assets/contact-C28TQl3y.js","assets/index-BYuk7_JU.js","assets/index-BcBUF__7.css"])))=>i.map(i=>d[i]);
import{a as t,j as e,_ as k}from"./vendor-BOJOR_z2.js";import{u as Y,C as r}from"./index.esm-CYlt0PPA.js";import{C as Z}from"./CustomHelmet-CJEY1eBY.js";import{p as u,B as o,o as _,I as c,Z as z}from"./contact-C28TQl3y.js";import{T as H,a as J,b as p,c as f}from"./tabs-DPRANr_g.js";import{a as K}from"./index-BYuk7_JU.js";const Q=()=>k(()=>import("./cvService-4gkQvP8v.js").then(x=>x.c),__vite__mapDeps([0,1])),X=()=>k(()=>import("./vertexService-CCeGygSB.js"),[]),ee=t.lazy(()=>k(()=>import("./PaymentModal-Bk7ioIOC.js"),__vite__mapDeps([2,1,3,4,5]))),ce=()=>{var P,V,A;const{toast:x}=K(),{control:i,handleSubmit:T,formState:{errors:h},watch:a,setValue:b}=Y({defaultValues:{personalInfo:{fullName:"",email:"",phone:"",address:"",aboutMe:"",dateOfBirth:"",maritalStatus:"",nationality:"",gender:""},education:[{institution:"",qualification:"",year:""}],experience:[{position:"",company:"",duration:""}],skills:[""],references:[{name:"",position:"",contact:""}]}}),[R,d]=t.useState("personalInfo"),[m,B]=t.useState(null),[j,M]=t.useState(null),[I,C]=t.useState(!1),[N,w]=t.useState(null),[S,E]=t.useState(!1),[$,v]=t.useState(!1),g=t.useRef(null),D=async s=>{var n;const l=(n=s.target.files)==null?void 0:n[0];if(l){const y=new FileReader;y.onloadend=()=>{B(y.result)},y.readAsDataURL(l)}},F=async()=>{if(!m){x({title:"No image selected",description:"Please upload an image first.",variant:"destructive"});return}C(!0);try{const{processImageWithVertexAI:s}=await X(),l=await s(m);M(l.processedImageUrl),x({title:"Image processed successfully",description:"Your profile photo has been enhanced."})}catch(s){x({title:"Processing failed",description:"Failed to process the image. Please try again.",variant:"destructive"}),console.error("Image processing error:",s)}finally{C(!1)}},q=()=>{const s=a("education");b("education",[...s,{institution:"",qualification:"",year:""}])},L=()=>{const s=a("experience");b("experience",[...s,{position:"",company:"",duration:""}])},O=()=>{const s=a("skills");b("skills",[...s,""])},G=()=>{const s=a("references");b("references",[...s,{name:"",position:"",contact:""}])},U=async s=>{v(!0)},W=async()=>{const s=a();E(!0);try{const{generateCV:l}=await Q(),n=await l({...s,profileImage:j||m});w(n.downloadUrl),x({title:"CV Generated Successfully",description:"Your CV is ready to download."})}catch(l){x({title:"Generation Failed",description:"Failed to generate CV. Please try again.",variant:"destructive"}),console.error("CV generation error:",l)}finally{E(!1),v(!1)}};return e.jsxs(e.Fragment,{children:[e.jsx(Z,{title:"Professional CV Templates - WorkWise SA",description:"Create professional CVs with our AI-powered CV template generator. Perfect for South African job seekers."}),e.jsx("main",{className:"flex-grow",children:e.jsxs("div",{className:"container mx-auto p-4 max-w-6xl",children:[e.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"Professional CV Builder"}),N?e.jsx("div",{className:"flex flex-col items-center",children:e.jsxs("div",{className:"w-full max-w-2xl mb-6",children:[e.jsxs("div",{className:"bg-white border rounded-lg shadow-lg p-6 mb-4",children:[e.jsx("h2",{className:"text-xl font-bold text-center mb-6",children:"Your CV is Ready!"}),e.jsx("div",{className:"aspect-[3/4] mb-6 bg-gray-100 rounded-md overflow-hidden",children:e.jsx("iframe",{src:N,className:"w-full h-full",title:"CV Preview"})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx(o,{onClick:()=>window.open(N,"_blank"),className:"flex-1",children:"Download CV"}),e.jsx(o,{onClick:()=>w(null),variant:"outline",className:"flex-1",children:"Edit CV"})]})]}),e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[e.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"What's Next?"}),e.jsxs("ul",{className:"list-disc list-inside space-y-1 text-blue-700",children:[e.jsx("li",{children:"Download your professionally designed CV"}),e.jsx("li",{children:"Share your CV with potential employers"}),e.jsx("li",{children:"Update your WorkWise SA profile with your new CV"}),e.jsx("li",{children:"Browse job listings that match your skills"})]})]})]})}):e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx("div",{children:e.jsxs(H,{value:R,onValueChange:d,children:[e.jsxs(J,{className:"grid grid-cols-5 mb-6",children:[e.jsx(p,{value:"personalInfo",children:"Personal"}),e.jsx(p,{value:"education",children:"Education"}),e.jsx(p,{value:"experience",children:"Experience"}),e.jsx(p,{value:"skills",children:"Skills"}),e.jsx(p,{value:"references",children:"References"})]}),e.jsxs("form",{onSubmit:T(U),children:[e.jsx(f,{value:"personalInfo",children:e.jsxs(u,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Personal Information"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("label",{className:"block mb-1",children:"Profile Photo"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-32 h-32 bg-gray-100 flex items-center justify-center cursor-pointer border rounded-md overflow-hidden",onClick:()=>{var s;return(s=g.current)==null?void 0:s.click()},children:j||m?e.jsx("img",{src:j||m||"",alt:"Profile",className:"w-full h-full object-cover"}):e.jsx("span",{className:"text-gray-400",children:"Upload Photo"})}),e.jsx("input",{type:"file",ref:g,accept:"image/*",onChange:D,className:"hidden"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsx(o,{type:"button",onClick:()=>{var s;return(s=g.current)==null?void 0:s.click()},variant:"outline",children:"Select Image"}),e.jsx(o,{type:"button",onClick:F,disabled:!m||I,variant:"secondary",children:I?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):"Enhance Image"})]})]}),e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Your image will be automatically processed to remove the background and enhance quality."})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Full Name"}),e.jsx(r,{name:"personalInfo.fullName",control:i,rules:{required:"Name is required"},render:({field:s})=>e.jsx(c,{...s,placeholder:"John Doe"})}),((P=h.personalInfo)==null?void 0:P.fullName)&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.personalInfo.fullName.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Email"}),e.jsx(r,{name:"personalInfo.email",control:i,rules:{required:"Email is required",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address"}},render:({field:s})=>e.jsx(c,{...s,placeholder:"john.doe@example.com"})}),((V=h.personalInfo)==null?void 0:V.email)&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.personalInfo.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Phone"}),e.jsx(r,{name:"personalInfo.phone",control:i,rules:{required:"Phone number is required"},render:({field:s})=>e.jsx(c,{...s,placeholder:"081 234 5678"})}),((A=h.personalInfo)==null?void 0:A.phone)&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:h.personalInfo.phone.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Address"}),e.jsx(r,{name:"personalInfo.address",control:i,render:({field:s})=>e.jsx(c,{...s,placeholder:"123 Main St, Johannesburg"})})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx("label",{className:"block mb-1",children:"About Me"}),e.jsx(r,{name:"personalInfo.aboutMe",control:i,render:({field:s})=>e.jsx(z,{...s,placeholder:"Write a short professional summary about yourself...",rows:4})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Date of Birth"}),e.jsx(r,{name:"personalInfo.dateOfBirth",control:i,render:({field:s})=>e.jsx(c,{...s,placeholder:"25/09/2001"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Marital Status"}),e.jsx(r,{name:"personalInfo.maritalStatus",control:i,render:({field:s})=>e.jsx(c,{...s,placeholder:"Single"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Nationality"}),e.jsx(r,{name:"personalInfo.nationality",control:i,render:({field:s})=>e.jsx(c,{...s,placeholder:"South African"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Gender"}),e.jsx(r,{name:"personalInfo.gender",control:i,render:({field:s})=>e.jsx(c,{...s,placeholder:"Male"})})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(o,{type:"button",onClick:()=>d("education"),children:"Next: Education"})})]})}),e.jsx(f,{value:"education",children:e.jsxs(u,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Education"}),a("education").map((s,l)=>e.jsxs("div",{className:"mb-6 p-4 border rounded-md",children:[e.jsxs("h3",{className:"font-medium mb-3",children:["Education ",l+1]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Institution"}),e.jsx(r,{name:`education.${l}.institution`,control:i,render:({field:n})=>e.jsx(c,{...n,placeholder:"University/School Name"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Qualification"}),e.jsx(r,{name:`education.${l}.qualification`,control:i,render:({field:n})=>e.jsx(c,{...n,placeholder:"Bachelor of Education"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Year"}),e.jsx(r,{name:`education.${l}.year`,control:i,render:({field:n})=>e.jsx(c,{...n,placeholder:"2020-2024"})})]})]})]},`education-${l}`)),e.jsx(o,{type:"button",onClick:q,variant:"outline",className:"mb-6",children:"+ Add Another Education Entry"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(o,{type:"button",onClick:()=>d("personalInfo"),variant:"outline",children:"Back"}),e.jsx(o,{type:"button",onClick:()=>d("experience"),children:"Next: Experience"})]})]})}),e.jsx(f,{value:"experience",children:e.jsxs(u,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Work Experience"}),a("experience").map((s,l)=>e.jsxs("div",{className:"mb-6 p-4 border rounded-md",children:[e.jsxs("h3",{className:"font-medium mb-3",children:["Experience ",l+1]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Position"}),e.jsx(r,{name:`experience.${l}.position`,control:i,render:({field:n})=>e.jsx(c,{...n,placeholder:"Teacher"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Company/School"}),e.jsx(r,{name:`experience.${l}.company`,control:i,render:({field:n})=>e.jsx(c,{...n,placeholder:"Walmer High School"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Duration"}),e.jsx(r,{name:`experience.${l}.duration`,control:i,render:({field:n})=>e.jsx(c,{...n,placeholder:"01/03/2024-18/10/2024"})})]})]})]},`experience-${l}`)),e.jsx(o,{type:"button",onClick:L,variant:"outline",className:"mb-6",children:"+ Add Another Experience Entry"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(o,{type:"button",onClick:()=>d("education"),variant:"outline",children:"Back"}),e.jsx(o,{type:"button",onClick:()=>d("skills"),children:"Next: Skills"})]})]})}),e.jsx(f,{value:"skills",children:e.jsxs(u,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Skills"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:a("skills").map((s,l)=>e.jsxs("div",{children:[e.jsxs("label",{className:"block mb-1",children:["Skill ",l+1]}),e.jsx(r,{name:`skills.${l}`,control:i,render:({field:n})=>e.jsx(c,{...n,placeholder:"Problem solving"})})]},`skill-${l}`))}),e.jsx(o,{type:"button",onClick:O,variant:"outline",className:"mb-6",children:"+ Add Another Skill"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(o,{type:"button",onClick:()=>d("experience"),variant:"outline",children:"Back"}),e.jsx(o,{type:"button",onClick:()=>d("references"),children:"Next: References"})]})]})}),e.jsx(f,{value:"references",children:e.jsxs(u,{className:"p-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"References"}),a("references").map((s,l)=>e.jsxs("div",{className:"mb-6 p-4 border rounded-md",children:[e.jsxs("h3",{className:"font-medium mb-3",children:["Reference ",l+1]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Name"}),e.jsx(r,{name:`references.${l}.name`,control:i,render:({field:n})=>e.jsx(c,{...n,placeholder:"Mr. N. Nogomba"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Position/Organization"}),e.jsx(r,{name:`references.${l}.position`,control:i,render:({field:n})=>e.jsx(c,{...n,placeholder:"Mzilikayise Dalasile S.S.S"})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block mb-1",children:"Contact"}),e.jsx(r,{name:`references.${l}.contact`,control:i,render:({field:n})=>e.jsx(c,{...n,placeholder:"076 516 4215"})})]})]})]},`reference-${l}`)),e.jsx(o,{type:"button",onClick:G,variant:"outline",className:"mb-6",children:"+ Add Another Reference"}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(o,{type:"button",onClick:()=>d("skills"),variant:"outline",children:"Back"}),e.jsx(o,{type:"submit",disabled:S,className:"bg-blue-600 hover:bg-blue-700",children:S?e.jsxs(e.Fragment,{children:[e.jsx(_,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating..."]}):"Generate CV (R30)"})]})]})})]})]})}),e.jsx("div",{className:"hidden lg:block",children:e.jsxs("div",{className:"sticky top-8",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Live Preview"}),e.jsx("div",{className:"bg-white border rounded-lg shadow-lg p-6 aspect-[3/4] overflow-hidden",children:e.jsxs("div",{className:"flex flex-col h-full",children:[e.jsxs("div",{className:"bg-blue-600 text-white p-4 flex gap-4 items-center",children:[j||m?e.jsx("div",{className:"w-20 h-20 rounded-full overflow-hidden bg-white flex-shrink-0",children:e.jsx("img",{src:j||m||"",alt:"Profile",className:"w-full h-full object-cover"})}):e.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-bold",children:a("personalInfo.fullName")||"Your Name"}),e.jsxs("div",{className:"text-sm opacity-90",children:[a("personalInfo.email")&&e.jsx("div",{children:a("personalInfo.email")}),a("personalInfo.phone")&&e.jsx("div",{children:a("personalInfo.phone")}),a("personalInfo.address")&&e.jsx("div",{children:a("personalInfo.address")})]})]})]}),e.jsxs("div",{className:"flex flex-1 overflow-hidden text-xs",children:[e.jsxs("div",{className:"w-1/3 bg-gray-100 p-3 flex flex-col gap-3",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-blue-600 mb-1",children:"PERSONAL DETAILS"}),e.jsxs("div",{className:"space-y-1",children:[a("personalInfo.dateOfBirth")&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Date of Birth:"})," ",a("personalInfo.dateOfBirth")]}),a("personalInfo.maritalStatus")&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Marital Status:"})," ",a("personalInfo.maritalStatus")]}),a("personalInfo.nationality")&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Nationality:"})," ",a("personalInfo.nationality")]}),a("personalInfo.gender")&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Gender:"})," ",a("personalInfo.gender")]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-blue-600 mb-1",children:"SKILLS"}),e.jsx("ul",{className:"list-disc list-inside space-y-1",children:a("skills").map((s,l)=>s?e.jsx("li",{children:s},l):null)})]})]}),e.jsxs("div",{className:"w-2/3 p-3 flex flex-col gap-3",children:[a("personalInfo.aboutMe")&&e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-blue-600 mb-1",children:"ABOUT ME"}),e.jsx("p",{className:"text-gray-700",children:a("personalInfo.aboutMe")})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-blue-600 mb-1",children:"EDUCATION"}),e.jsx("div",{className:"space-y-2",children:a("education").map((s,l)=>s.institution||s.qualification?e.jsxs("div",{className:"border-l-2 border-blue-600 pl-2",children:[s.institution&&e.jsx("div",{className:"font-medium",children:s.institution}),s.qualification&&e.jsx("div",{children:s.qualification}),s.year&&e.jsx("div",{className:"text-gray-500",children:s.year})]},l):null)})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold text-blue-600 mb-1",children:"EXPERIENCE"}),e.jsx("div",{className:"space-y-2",children:a("experience").map((s,l)=>s.position||s.company?e.jsxs("div",{className:"border-l-2 border-blue-600 pl-2",children:[s.position&&e.jsx("div",{className:"font-medium",children:s.position}),s.company&&e.jsx("div",{children:s.company}),s.duration&&e.jsx("div",{className:"text-gray-500",children:s.duration})]},l):null)})]})]})]})]})}),e.jsx("p",{className:"text-sm text-gray-500 mt-2 text-center",children:"This is a preview. The final CV will be professionally formatted."})]})})]}),$&&e.jsx(t.Suspense,{fallback:e.jsx("div",{children:"Loading payment..."}),children:e.jsx(ee,{amount:30,currency:"ZAR",onClose:()=>v(!1),onSuccess:W,productName:"Professional CV Template"})})]})})]})};export{ce as default};
