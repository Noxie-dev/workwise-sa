import{j as e}from"./vendor-ui-s4VaHhe3.js";import{b as m}from"./vendor-react-BLR_YkO_.js";import{m as w}from"./marked.esm-DKjyhwJX.js";import{F as n,T as C}from"./Textarea-NWNMmzce.js";import{I as s,S as B,a as S,b as P,c as I,d as z}from"./Select-o5Laohk0.js";import{B as u}from"./Button-DUkTpc71.js";import{aH as E,aI as L,X as A,r as k,af as W}from"./vendor-icons-CgtSIdDt.js";const G=({formState:f,onInitiateAIAssist:j})=>{var g;const{values:o,errors:c,touched:i,handleChange:t,handleBlur:l}=f,[p,r]=m.useState(null),[h,y]=m.useState("");m.useEffect(()=>{if(o.logo&&typeof o.logo=="object"&&o.logo instanceof File){const a=new FileReader;a.onloadend=()=>r(a.result),a.readAsDataURL(o.logo)}else typeof o.logo=="string"?r(o.logo):r(null)},[o.logo]),m.useEffect(()=>{if(o.companyBio){const a=o.companyBio.replace(/<script.*?>.*?<\/script>/gi,"");y(w(a))}else y("")},[o.companyBio]);const N=a=>{const d=a.target.files[0];if(d){if(d.size>2*1024*1024){alert("Logo size should not exceed 2MB.");return}t("logo",d)}},b=()=>{t("logo",null),r(null);const a=document.getElementById("company-logo-input");a&&(a.value="")},x=(g=o.companyName)==null?void 0:g.trim(),v=o.companySize;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Company & Contact Information"}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx(n,{id:"company-name",label:"Company Name",error:i.companyName&&c.companyName,required:!0,children:e.jsx(s,{id:"company-name",type:"text",value:o.companyName||"",onChange:a=>t("companyName",a.target.value),onBlur:()=>l("companyName"),placeholder:"e.g. Acme Corporation"})}),e.jsx(n,{id:"company-website",label:"Company Website (Optional)",error:i.companyWebsite&&c.companyWebsite,hint:"e.g., https://www.example.com",children:e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx(s,{id:"company-website",type:"url",value:o.companyWebsite||"",onChange:a=>t("companyWebsite",a.target.value),onBlur:()=>l("companyWebsite"),placeholder:"https://www.example.com",className:"pl-10"})]})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx(n,{id:"company-size",label:"Company Size (Optional)",children:e.jsxs(B,{value:o.companySize||"",onValueChange:a=>t("companySize",a),onOpenChange:a=>{a||l("companySize")},children:[e.jsx(S,{id:"company-size",children:e.jsx(P,{placeholder:"Select company size",children:v})}),e.jsx(I,{children:["1-10 employees","11-50 employees","51-200 employees","201-500 employees","500+ employees"].map(a=>e.jsx(z,{value:a,children:a},a))})]})}),e.jsx(n,{id:"company-logo",label:"Company Logo (Optional, max 2MB)",hint:"Recommended: Square, PNG/JPG",children:e.jsxs("div",{className:"flex items-center gap-4",children:[p?e.jsx("img",{src:p,alt:"Logo preview",className:"h-20 w-20 object-contain rounded border p-1"}):e.jsx("div",{className:"h-20 w-20 rounded border bg-gray-50 flex items-center justify-center text-gray-400",children:e.jsx(L,{className:"h-10 w-10"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(s,{id:"company-logo-input",type:"file",accept:"image/png, image/jpeg, image/webp",onChange:N,className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"}),p&&e.jsxs(u,{type:"button",variant:"outline",size:"sm",onClick:b,className:"text-xs",children:[e.jsx(A,{className:"h-3 w-3 mr-1"}),"Remove logo"]})]})]})})]}),e.jsx(n,{id:"company-bio",label:"Company Bio (Optional)",hint:"Briefly describe your company. Markdown supported.",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"flex justify-end",children:e.jsxs(u,{variant:"outline",size:"sm",className:"flex items-center gap-1.5 text-xs",onClick:()=>j("companyBio",{companyName:o.companyName,category:o.category},{}),disabled:!x,type:"button",title:x?"Generate with AI":"Enter company name first",children:[e.jsx(k,{className:"h-3 w-3"})," AI Assist Bio"]})}),e.jsx(C,{id:"company-bio",value:o.companyBio||"",onChange:a=>t("companyBio",a.target.value),onBlur:()=>l("companyBio"),className:"min-h-[150px] font-mono text-sm",placeholder:"e.g., We are a leading tech company focused on innovation..."})]})}),h&&e.jsxs("div",{className:"mt-4 border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-600",children:"Company Bio Preview:"}),e.jsx("div",{className:"prose prose-sm max-w-none border p-4 rounded-md bg-white shadow",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:h}})})]}),e.jsx("hr",{className:"my-8"}),e.jsx("h3",{className:"text-md font-semibold text-gray-700",children:"Primary Contact for Applications"}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx(n,{id:"contact-name",label:"Contact Person Name",error:i.contactName&&c.contactName,required:!0,children:e.jsx(s,{id:"contact-name",type:"text",value:o.contactName||"",onChange:a=>t("contactName",a.target.value),onBlur:()=>l("contactName"),placeholder:"e.g. Jane Doe"})}),e.jsx(n,{id:"contact-email",label:"Contact Email",error:i.contactEmail&&c.contactEmail,required:!0,hint:"Applications will be sent here.",children:e.jsx(s,{id:"contact-email",type:"email",value:o.contactEmail||"",onChange:a=>t("contactEmail",a.target.value),onBlur:()=>l("contactEmail"),placeholder:"e.g. careers@example.com"})})]}),e.jsx(n,{id:"contact-phone",label:"Contact Phone (Optional)",error:i.contactPhone&&c.contactPhone,children:e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-3 text-gray-400",children:e.jsx(W,{className:"h-4 w-4"})}),e.jsx(s,{id:"contact-phone",type:"tel",value:o.contactPhone||"",onChange:a=>t("contactPhone",a.target.value),onBlur:()=>l("contactPhone"),placeholder:"e.g. +27 21 123 4567",className:"pl-10"})]})})]})};export{G as default};
