const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/SkillsHeatmap-C7MCj-W_.js","assets/vendor-ui-s4VaHhe3.js","assets/vendor-react-BLR_YkO_.js","assets/card-BYeanzy8.js","assets/index-BNVlULwE.js","assets/vendor-query-Cm3gWw8b.js","assets/vendor-router-B3zuYAIM.js","assets/vendor-charts-CaNT0DhE.js","assets/vendor-icons-CgtSIdDt.js","assets/index-DgqwUx27.css","assets/select-gIZj7I3E.js","assets/skeleton-BWR7FKY8.js","assets/SkillsRadarChart-DKxHPXx6.js","assets/RealtimeUpdates-D3Hm99_w.js","assets/badge-Bf80hUz1.js","assets/profileService-CVm8ufKb.js","assets/apiClient-Ddw1nvhZ.js","assets/tabs-fUz54HQS.js","assets/ChartComponents-ZakL3i9g.js"])))=>i.map(i=>d[i]);
import{u as G,_ as Y}from"./vendor-query-Cm3gWw8b.js";import{j as e}from"./vendor-ui-s4VaHhe3.js";import{b as x,e as Re}from"./vendor-react-BLR_YkO_.js";import{f as _e,A as ye,a as Ne,b as be,B as u}from"./index-BNVlULwE.js";import{u as Le}from"./vendor-router-B3zuYAIM.js";import{p as Ie}from"./profileService-CVm8ufKb.js";import{a as z}from"./apiClient-Ddw1nvhZ.js";import{C as j,a as g,b,c as w,d as k,e as _}from"./card-BYeanzy8.js";import{S as Q,a as Z,b as X,c as ee,d as p}from"./select-gIZj7I3E.js";import{S as o}from"./skeleton-BWR7FKY8.js";import{T as Fe,a as Je,b as O,c as $}from"./tabs-fUz54HQS.js";import{C as we,a1 as Me,B as ke,k as Ce,v as se,a2 as L,w as Oe}from"./vendor-icons-CgtSIdDt.js";const ae={categories:[{category:"Retail",count:180},{category:"IT",count:250},{category:"Healthcare",count:120},{category:"Finance",count:90},{category:"Education",count:75}],locations:[{name:"Johannesburg",value:300},{name:"Cape Town",value:220},{name:"Durban",value:150},{name:"Pretoria",value:120},{name:"Port Elizabeth",value:80}],trends:[{date:"2025-01",applications:450},{date:"2025-02",applications:480},{date:"2025-03",applications:520},{date:"2025-04",applications:510},{date:"2025-05",applications:550}]},B=[{id:"job123",title:"Software Developer",company:"Tech Co",match:85,location:"Cape Town",type:"Full-time",postedDate:"2025-04-15",description:"Entry-level software developer position with opportunities to work on exciting projects.",skills:["JavaScript","React","Node.js"]},{id:"job124",title:"Retail Assistant",company:"ShopRight",match:78,location:"Johannesburg",type:"Part-time",postedDate:"2025-04-18",description:"Customer-facing retail position with flexible hours and competitive pay.",skills:["Customer Service","Cash Handling","Inventory Management"]},{id:"job125",title:"Administrative Clerk",company:"Business Solutions",match:92,location:"Pretoria",type:"Full-time",postedDate:"2025-04-10",description:"Administrative support role in a fast-paced office environment.",skills:["MS Office","Filing","Data Entry"]}],te={marketDemand:[{skill:"JavaScript",demand:85,growth:12},{skill:"Python",demand:78,growth:18},{skill:"React",demand:72,growth:15},{skill:"Data Analysis",demand:68,growth:22},{skill:"Project Management",demand:65,growth:8},{skill:"SQL",demand:60,growth:5}],userSkills:[{skill:"JavaScript",level:"Intermediate"},{skill:"HTML/CSS",level:"Advanced"},{skill:"Communication",level:"Advanced"}],recommendations:[{skill:"React",reason:"High demand in your preferred job categories"},{skill:"Python",reason:"Fastest growing skill in the market"},{skill:"SQL",reason:"Complements your existing JavaScript skills"}]},T={async fetchJobDistribution(s="all",l="30d",t=1,i=10){try{return(await z.get("/api/dashboard/job-distribution",{params:{categoryFilter:s,dateRange:l,page:t,limit:i}})).data}catch{return console.log("Using mock job distribution data"),await new Promise(m=>setTimeout(m,800)),{data:ae,pagination:{page:t,limit:i,totalItems:ae.categories.length,totalPages:Math.ceil(ae.categories.length/i)}}}},async fetchJobRecommendations(s=3,l,t=1,i=10){try{return(await z.get("/api/dashboard/job-recommendations",{params:{recommendationLimit:s,userId:l,page:t,limit:i}})).data}catch{console.log("Using mock job recommendations data"),await new Promise(n=>setTimeout(n,600));const m=(t-1)*i,h=Math.min(m+i,B.length);return{data:B.slice(m,h),pagination:{page:t,limit:i,totalItems:B.length,totalPages:Math.ceil(B.length/i)}}}},async fetchSkillsAnalysis(s,l=1,t=10){try{return(await z.get("/api/dashboard/skills-analysis",{params:{userId:s,page:l,limit:t}})).data}catch{return console.log("Using mock skills analysis data"),await new Promise(d=>setTimeout(d,700)),{data:te,pagination:{page:l,limit:t,totalItems:te.marketDemand.length,totalPages:Math.ceil(te.marketDemand.length/t)}}}},exportDashboardData(s,l="dashboard-data.csv"){var h;let t="";s.categories?(t=`Category,Count
`,s.categories.forEach(n=>{t+=`${n.category},${n.count}
`})):Array.isArray(s)&&((h=s[0])!=null&&h.title)?(t=`Title,Company,Match,Location,Type,Posted Date
`,s.forEach(n=>{t+=`"${n.title}","${n.company}",${n.match},"${n.location}","${n.type}","${n.postedDate}"
`})):s.marketDemand&&(t=`Skill,Demand,Growth
`,s.marketDemand.forEach(n=>{t+=`"${n.skill}",${n.demand},${n.growth}
`}));const i=new Blob([t],{type:"text/csv;charset=utf-8;"}),d=URL.createObjectURL(i),m=document.createElement("a");m.setAttribute("href",d),m.setAttribute("download",l),m.style.visibility="hidden",document.body.appendChild(m),m.click(),document.body.removeChild(m)}},$e=(s="all",l="30d",t=1,i=10)=>G({queryKey:["jobDistribution",s,l,t,i],queryFn:()=>T.fetchJobDistribution(s,l,t,i),staleTime:5*60*1e3,refetchOnWindowFocus:!1,keepPreviousData:!0}),Be=(s=3,l,t=1,i=10)=>G({queryKey:["jobRecommendations",s,l,t,i],queryFn:()=>T.fetchJobRecommendations(s,l,t,i),staleTime:10*60*1e3,refetchOnWindowFocus:!1,keepPreviousData:!0}),Ve=(s,l=1,t=10)=>G({queryKey:["skillsAnalysis",s,l,t],queryFn:()=>T.fetchSkillsAnalysis(s,l,t),staleTime:30*60*1e3,refetchOnWindowFocus:!1,keepPreviousData:!0}),ze=(s="all",l="30d",t=3,i,d=1,m=10)=>{const h=$e(s,l,d,m),n=Be(t,i,d,m),N=Ve(i,d,m);return{jobDistribution:h,jobRecommendations:n,skillsAnalysis:N,isLoading:h.isLoading||n.isLoading||N.isLoading,isError:h.isError||n.isError||N.isError,error:h.error||n.error||N.error,exportData:{jobDistribution:()=>{h.data&&T.exportDashboardData(h.data.data,"job-distribution.csv")},jobRecommendations:()=>{n.data&&T.exportDashboardData(n.data.data,"job-recommendations.csv")},skillsAnalysis:()=>{N.data&&T.exportDashboardData(N.data.data,"skills-analysis.csv")},all:()=>{if(h.data&&n.data&&N.data){const H={jobDistribution:h.data.data,jobRecommendations:n.data.data,skillsAnalysis:N.data.data},K=JSON.stringify(H,null,2),U=new Blob([K],{type:"application/json"}),I=URL.createObjectURL(U),A=document.createElement("a");A.setAttribute("href",I),A.setAttribute("download","dashboard-data.json"),A.style.visibility="hidden",document.body.appendChild(A),A.click(),document.body.removeChild(A)}}}}},y={async trackEvent(s,l,t={}){const i={eventType:s,userId:l,timestamp:Date.now(),data:t};try{await z.post("/api/analytics/track",i)}catch(d){console.error("Failed to track analytics event:",d)}},trackPageView(s,l,t={}){this.trackEvent("page_view",s,{pageName:l,...t})},trackTabChange(s,l){this.trackEvent("tab_change",s,{tabName:l})},trackFilterChange(s,l,t){this.trackEvent("filter_change",s,{filterName:l,filterValue:t})},trackJobClick(s,l,t){this.trackEvent("job_click",s,{jobId:l,jobTitle:t})},trackSkillView(s,l){this.trackEvent("skill_view",s,{skill:l})},trackChartInteraction(s,l,t,i){this.trackEvent("chart_interaction",s,{chartType:l,interactionType:t,detail:i})},trackExportData(s,l,t,i){this.trackEvent("export_data",s,{dataType:l,format:t,filters:i})},trackPagination(s,l,t,i,d){this.trackEvent("pagination",s,{page:l,pageSize:t,totalItems:i,context:d})},trackVisualizationToggle(s,l,t){this.trackEvent("visualization_toggle",s,{visualizationType:l,newState:t})},trackNotificationInteraction(s,l,t,i){this.trackEvent("notification_interaction",s,{notificationType:l,action:t,notificationId:i})},trackTimeOnPage(s,l,t){this.trackEvent("time_on_page",s,{pageName:l,timeInSeconds:t})},trackDashboardWidgetView(s,l,t){this.trackEvent("dashboard_widget_view",s,{widgetName:l,visibleTimeInSeconds:t})}},Ge=x.lazy(()=>Y(()=>import("./SkillsHeatmap-C7MCj-W_.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),Ye=x.lazy(()=>Y(()=>import("./SkillsRadarChart-DKxHPXx6.js"),__vite__mapDeps([12,1,2,3,4,5,6,7,8,9,11]))),He=x.lazy(()=>Y(()=>import("./RealtimeUpdates-D3Hm99_w.js"),__vite__mapDeps([13,1,2,3,4,5,6,7,8,9,14,11,15,16,10,17]))),le=x.lazy(()=>Y(()=>import("./ChartComponents-ZakL3i9g.js"),__vite__mapDeps([18,1,2,7]))),V=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d","#ffc658"];function Ke(){var oe,de,me,he,xe,ue,je,ge,pe,fe;const{currentUser:s}=_e(),[,l]=Le(),[t,i]=x.useState("overview"),[d,m]=x.useState("all"),[h,n]=x.useState("30d"),[N,H]=x.useState(3),[K,U]=x.useState(1),[I,A]=x.useState(10),[ie,Se]=x.useState(0),q=x.useRef(null);x.useEffect(()=>(s&&(y.trackPageView(s.uid,"dashboard",{userDisplayName:s.displayName||"Unknown"}),q.current=setInterval(()=>{Se(a=>a+1)},1e3)),()=>{q.current&&(clearInterval(q.current),s&&ie>0&&y.trackTimeOnPage(s.uid,"dashboard",ie))}),[s]);const Ae=a=>{i(a),s&&y.trackTabChange(s.uid,a)},De=a=>{m(a),s&&y.trackFilterChange(s.uid,"category",a)},Ee=a=>{n(a),s&&y.trackFilterChange(s.uid,"dateRange",a)},Pe=a=>{s&&y.trackJobClick(s.uid,a.id,a.title),l(`/jobs/${a.id}`)},{data:F,isLoading:Te,error:Ue}=G({queryKey:["userProfile",s==null?void 0:s.uid],queryFn:()=>s?Ie.getProfile(s.uid):null,enabled:!!s,staleTime:5*60*1e3}),J=a=>{U(a),s&&y.trackPagination(s.uid,a,I,0,`dashboard-${t}`)},{jobDistribution:{data:D,isLoading:qe,error:We},jobRecommendations:{data:E,isLoading:Qe,error:Ze},skillsAnalysis:{data:P,isLoading:re,error:Xe},isLoading:C,error:ne,exportData:M}=ze(d,h,N,s==null?void 0:s.uid,K,I),r=D==null?void 0:D.data;D==null||D.pagination;const ce=(E==null?void 0:E.data)||[];E==null||E.pagination;const f=P==null?void 0:P.data,v=P==null?void 0:P.pagination,R=(()=>{if(r!=null&&r.trends&&r.trends.length>=2){const a=r.trends[r.trends.length-1].applications,c=r.trends[r.trends.length-2].applications,S=(a/c-1)*100;return{value:S.toFixed(1),isPositive:S>=0}}return{value:"N/A",isPositive:!0}})();return s?e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsxs(Re,{children:[e.jsx("title",{children:"Job Market Dashboard | WorkWise SA"}),e.jsx("meta",{name:"description",content:"Insights and analytics for the South African job market"})]}),e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Job Market Dashboard"}),e.jsx("p",{className:"text-gray-500",children:"Insights and analytics for the South African job market"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(Q,{onValueChange:De,defaultValue:d,children:[e.jsx(Z,{className:"w-40",children:e.jsx(X,{placeholder:"Filter by Category"})}),e.jsxs(ee,{children:[e.jsx(p,{value:"all",children:"All Categories"}),e.jsx(p,{value:"retail",children:"Retail"}),e.jsx(p,{value:"it",children:"IT"}),e.jsx(p,{value:"healthcare",children:"Healthcare"}),e.jsx(p,{value:"finance",children:"Finance"}),e.jsx(p,{value:"education",children:"Education"})]})]}),e.jsxs(Q,{onValueChange:Ee,defaultValue:h,children:[e.jsx(Z,{className:"w-40",children:e.jsx(X,{placeholder:"Date Range"})}),e.jsxs(ee,{children:[e.jsx(p,{value:"7d",children:"Last 7 Days"}),e.jsx(p,{value:"30d",children:"Last 30 Days"}),e.jsx(p,{value:"90d",children:"Last 90 Days"}),e.jsx(p,{value:"1y",children:"Last Year"})]})]}),e.jsxs(u,{variant:"outline",className:"flex items-center gap-2",onClick:()=>{s&&y.trackExportData(s.uid,"dashboard","json",{categoryFilter:d,dateRange:h,tab:t}),M.all()},children:[e.jsx(Me,{className:"h-4 w-4"}),"Export Data"]})]})]}),ne&&e.jsxs(ye,{variant:"destructive",className:"mb-6",children:[e.jsx(we,{className:"h-4 w-4"}),e.jsx(Ne,{children:"Error"}),e.jsx(be,{children:ne})]}),e.jsx(Fe,{defaultValue:"overview",value:t,onValueChange:Ae,className:"mb-6",children:e.jsxs(Je,{className:"grid w-full md:w-fit grid-cols-2 md:grid-cols-4",children:[e.jsx(O,{value:"overview",children:"Overview"}),e.jsx(O,{value:"recommendations",children:"Recommendations"}),e.jsx(O,{value:"skills",children:"Skills Analysis"}),e.jsx(O,{value:"insights",children:"Market Insights"})]})}),e.jsxs($,{value:"overview",className:t==="overview"?"block":"hidden",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:C?Array(4).fill(0).map((a,c)=>e.jsxs("div",{className:"p-4 border rounded-lg",children:[e.jsx(o,{className:"h-4 w-1/2 mb-2"}),e.jsx(o,{className:"h-8 w-1/3"})]},c)):e.jsxs(e.Fragment,{children:[e.jsx(j,{className:"bg-blue-50",children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Total Jobs"}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:((oe=r==null?void 0:r.categories)==null?void 0:oe.reduce((a,c)=>a+c.count,0))||0})]}),e.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:e.jsx(ke,{className:"h-5 w-5 text-blue-600"})})]})})}),e.jsx(j,{className:"bg-green-50",children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Top Category"}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:((me=(de=r==null?void 0:r.categories)==null?void 0:de.sort((a,c)=>c.count-a.count)[0])==null?void 0:me.category)||"N/A"})]}),e.jsx("div",{className:"p-2 bg-green-100 rounded-lg",children:e.jsx(Ce,{className:"h-5 w-5 text-green-600"})})]})})}),e.jsx(j,{className:"bg-yellow-50",children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Top Location"}),e.jsx("p",{className:"text-2xl font-bold mt-1",children:((xe=(he=r==null?void 0:r.locations)==null?void 0:he.sort((a,c)=>c.value-a.value)[0])==null?void 0:xe.name)||"N/A"})]}),e.jsx("div",{className:"p-2 bg-yellow-100 rounded-lg",children:e.jsx(se,{className:"h-5 w-5 text-yellow-600"})})]})})}),e.jsx(j,{className:R.isPositive?"bg-purple-50":"bg-red-50",children:e.jsx(g,{className:"pt-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Monthly Growth"}),e.jsxs("div",{className:"flex items-center gap-1 mt-1",children:[e.jsxs("p",{className:"text-2xl font-bold",children:[R.value,"%"]}),e.jsx(L,{className:`h-4 w-4 ${R.isPositive?"text-green-600":"text-red-600"}`})]})]}),e.jsx("div",{className:`p-2 rounded-lg ${R.isPositive?"bg-purple-100":"bg-red-100"}`,children:e.jsx(Oe,{className:`h-5 w-5 ${R.isPositive?"text-purple-600":"text-red-600"}`})})]})})})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs(j,{className:"col-span-1 lg:col-span-1",children:[e.jsxs(b,{children:[e.jsx(w,{children:"Jobs by Category"}),e.jsx(k,{children:"Distribution of job listings across industries"})]}),e.jsx(g,{className:"h-80",children:C?e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{className:"h-4 w-full"}),e.jsx(o,{className:"h-64 w-full"})]}):((ue=r==null?void 0:r.categories)==null?void 0:ue.length)>0?e.jsx(x.Suspense,{fallback:e.jsx(o,{className:"h-64 w-full"}),children:e.jsx(le.JobCategoryBarChart,{data:r.categories,colors:V})}):e.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No category data available"})})]}),e.jsxs(j,{className:"col-span-1 lg:col-span-1",children:[e.jsxs(b,{children:[e.jsx(w,{children:"Jobs by Location"}),e.jsx(k,{children:"Geographic distribution of job opportunities"})]}),e.jsx(g,{className:"h-80",children:C?e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{className:"h-4 w-full"}),e.jsx(o,{className:"h-64 w-full rounded-full mx-auto"})]}):((je=r==null?void 0:r.locations)==null?void 0:je.length)>0?e.jsx(x.Suspense,{fallback:e.jsx(o,{className:"h-64 w-full rounded-full mx-auto"}),children:e.jsx(le.JobLocationPieChart,{data:r.locations,colors:V})}):e.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No location data available"})})]}),e.jsxs(j,{className:"col-span-1 md:col-span-2 lg:col-span-1",children:[e.jsxs(b,{children:[e.jsx(w,{children:"Application Trends"}),e.jsx(k,{children:"Job application volume over time"})]}),e.jsx(g,{className:"h-80",children:C?e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{className:"h-4 w-full"}),e.jsx(o,{className:"h-64 w-full"})]}):((ge=r==null?void 0:r.trends)==null?void 0:ge.length)>0?e.jsx(x.Suspense,{fallback:e.jsx(o,{className:"h-64 w-full"}),children:e.jsx(le.ApplicationTrendsLineChart,{data:r.trends})}):e.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:"No trend data available"})})]})]})]}),e.jsx($,{value:"recommendations",className:t==="recommendations"?"block":"hidden",children:e.jsxs(j,{children:[e.jsxs(b,{children:[e.jsx(w,{children:"Personalized Job Recommendations"}),e.jsx(k,{children:"Based on your skills, experience, and preferences"})]}),e.jsx(g,{children:C?e.jsx("div",{className:"space-y-4",children:Array(3).fill(0).map((a,c)=>e.jsxs("div",{className:"border rounded-lg p-4",children:[e.jsx(o,{className:"h-6 w-3/4 mb-2"}),e.jsx(o,{className:"h-4 w-1/2 mb-4"}),e.jsxs("div",{className:"flex gap-2 mb-2",children:[e.jsx(o,{className:"h-4 w-16"}),e.jsx(o,{className:"h-4 w-16"})]}),e.jsx(o,{className:"h-4 w-full"})]},c))}):ce.length>0?e.jsx("div",{className:"space-y-4",children:ce.map(a=>e.jsx(j,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>Pe(a),children:e.jsxs(g,{className:"p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:a.title}),e.jsx("p",{className:"text-gray-600",children:a.company})]}),e.jsxs("div",{className:`px-2 py-1 rounded-full text-xs font-semibold ${a.match>=80?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:[a.match,"% Match"]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 my-2",children:[e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(se,{className:"h-3 w-3 mr-1"})," ",a.location]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(ke,{className:"h-3 w-3 mr-1"})," ",a.type]}),e.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[e.jsx(Timer,{className:"h-3 w-3 mr-1"})," Posted ",new Date(a.postedDate).toLocaleDateString()]})]}),e.jsx("p",{className:"text-sm text-gray-600 mt-2",children:a.description}),e.jsxs("div",{className:"flex flex-wrap gap-2 mt-4",children:[a.skills.slice(0,3).map((c,S)=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs",children:c},S)),a.skills.length>3&&e.jsxs("span",{className:"px-2 py-1 bg-gray-100 rounded-full text-xs",children:["+",a.skills.length-3," more"]})]})]})},a.id))}):e.jsxs("div",{className:"text-center py-10",children:[e.jsx("p",{className:"text-gray-500",children:"No job recommendations available."}),e.jsx("p",{className:"text-gray-500 mt-2",children:"Complete your profile to get personalized recommendations."}),e.jsx(u,{className:"mt-4",onClick:()=>l("/profile-setup"),children:"Update Profile"})]})}),e.jsxs(_,{className:"flex justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-500",children:"Show:"}),e.jsxs(Q,{value:N.toString(),onValueChange:a=>H(parseInt(a)),children:[e.jsx(Z,{className:"w-20",children:e.jsx(X,{placeholder:"3"})}),e.jsxs(ee,{children:[e.jsx(p,{value:"3",children:"3"}),e.jsx(p,{value:"5",children:"5"}),e.jsx(p,{value:"10",children:"10"})]})]})]}),e.jsx(u,{variant:"outline",onClick:()=>l("/jobs"),children:"View All Jobs"})]})]})}),e.jsxs($,{value:"skills",className:t==="skills"?"block":"hidden",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[e.jsx(Ge,{data:f,isLoading:C||re,onExport:()=>{s&&y.trackExportData(s.uid,"skills-heatmap","csv",{view:"demand"}),M.skillsAnalysis()}}),e.jsx(Ye,{data:f,isLoading:C||re,onExport:()=>{s&&y.trackExportData(s.uid,"skills-radar","csv",{view:"comparison"}),M.skillsAnalysis()}})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(j,{children:[e.jsxs(b,{children:[e.jsx(w,{children:"In-Demand Skills"}),e.jsx(k,{children:"Most sought-after skills in the current job market"})]}),e.jsx(g,{children:C?e.jsxs("div",{className:"space-y-4",children:[e.jsx(o,{className:"h-4 w-full"}),e.jsx(o,{className:"h-4 w-3/4"}),e.jsx(o,{className:"h-2 w-full"}),e.jsx(o,{className:"h-4 w-full"}),e.jsx(o,{className:"h-4 w-3/4"}),e.jsx(o,{className:"h-2 w-full"})]}):f!=null&&f.marketDemand?e.jsxs("div",{className:"space-y-6",children:[f.marketDemand.slice(0,5).map(a=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"font-medium",children:a.skill}),e.jsxs("span",{className:"text-sm text-gray-500",children:["Demand Score: ",a.demand,"/100"]})]}),e.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${a.demand}%`}})}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("div",{className:`text-xs px-2 py-1 rounded-full ${a.growth>10?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"}`,children:[a.growth>0?"+":"",a.growth,"% YoY Growth"]})})]},a.skill)),v&&v.totalPages>1&&e.jsx("div",{className:"flex justify-center mt-4",children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(u,{variant:"outline",size:"sm",disabled:v.page===1,onClick:()=>J(v.page-1),children:"Previous"}),Array.from({length:v.totalPages},(a,c)=>c+1).filter(a=>a===1||a===v.totalPages||Math.abs(a-v.page)<=1).map((a,c,S)=>c>0&&a-S[c-1]>1?e.jsxs(React.Fragment,{children:[e.jsx(u,{variant:"outline",size:"sm",disabled:!0,children:"..."}),e.jsx(u,{variant:a===v.page?"default":"outline",size:"sm",onClick:()=>J(a),children:a},a)]},`ellipsis-${a}`):e.jsx(u,{variant:a===v.page?"default":"outline",size:"sm",onClick:()=>J(a),children:a},a)),e.jsx(u,{variant:"outline",size:"sm",disabled:v.page===v.totalPages,onClick:()=>J(v.page+1),children:"Next"})]})})]}):e.jsx("div",{className:"text-center py-10",children:e.jsx("p",{className:"text-gray-500",children:"No skills demand data available."})})}),e.jsx(_,{children:e.jsx(u,{variant:"outline",className:"w-full",onClick:()=>{s&&y.trackExportData(s.uid,"skills-demand","csv",{}),M.skillsAnalysis()},children:"Export Skills Analysis Data"})})]}),e.jsxs(j,{children:[e.jsxs(b,{children:[e.jsx(w,{children:"Your Skills Gap Analysis"}),e.jsx(k,{children:"Skills you may want to develop based on job market trends"})]}),e.jsx(g,{children:C||Te?e.jsxs("div",{className:"space-y-4",children:[e.jsx(o,{className:"h-4 w-full"}),e.jsx(o,{className:"h-4 w-3/4"}),e.jsx(o,{className:"h-2 w-full"})]}):(fe=(pe=F==null?void 0:F.skills)==null?void 0:pe.skills)!=null&&fe.length?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Skills You Have"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:F.skills.skills.map((a,c)=>e.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",onClick:()=>{s&&y.trackSkillView(s.uid,a)},children:a},c))})]}),(f==null?void 0:f.recommendations)&&e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Recommended Skills to Develop"}),e.jsx("div",{className:"space-y-4",children:f.recommendations.map((a,c)=>{var S,ve;return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("span",{children:a.skill}),e.jsx("span",{className:"text-sm text-gray-500",children:((S=f.marketDemand.find(W=>W.skill===a.skill))==null?void 0:S.demand)>=70?"High Demand":"Medium Demand"})]}),e.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden",children:e.jsx("div",{className:"h-full bg-yellow-500 rounded-full",style:{width:`${((ve=f.marketDemand.find(W=>W.skill===a.skill))==null?void 0:ve.demand)||50}%`}})}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a.reason})]},c)})})]})]}):e.jsxs("div",{className:"text-center py-10",children:[e.jsx("p",{className:"text-gray-500",children:"We need more information about your skills and experience."}),e.jsx(u,{className:"mt-4",onClick:()=>l("/profile-setup"),children:"Complete Your Profile"})]})}),e.jsxs(_,{className:"flex justify-between",children:[e.jsx(u,{variant:"outline",onClick:()=>l("/learning"),children:"Find Courses"}),e.jsx(u,{onClick:()=>l("/cv-builder"),children:"Update Your CV"})]})]})]}),e.jsx("div",{className:"mt-6",children:e.jsx(He,{userId:s==null?void 0:s.uid})})]}),e.jsx($,{value:"insights",className:t==="insights"?"block":"hidden",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs(j,{children:[e.jsxs(b,{children:[e.jsx(w,{children:"Industry Growth Trends"}),e.jsx(k,{children:"Year-on-year growth by industry in South Africa"})]}),e.jsx(g,{className:"h-80",children:e.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:e.jsxs(BarChart,{data:[{name:"IT",growth:18.5},{name:"Finance",growth:7.2},{name:"Healthcare",growth:12.8},{name:"Education",growth:5.3},{name:"Retail",growth:-2.1},{name:"Manufacturing",growth:4.2}],margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(CartesianGrid,{strokeDasharray:"3 3"}),e.jsx(XAxis,{dataKey:"name"}),e.jsx(YAxis,{}),e.jsx(Tooltip,{formatter:a=>[`${a}%`,"Growth"]}),e.jsx(Legend,{}),e.jsx(Bar,{dataKey:"growth",name:"YoY Growth (%)",children:[{name:"IT",growth:18.5},{name:"Finance",growth:7.2},{name:"Healthcare",growth:12.8},{name:"Education",growth:5.3},{name:"Retail",growth:-2.1},{name:"Manufacturing",growth:4.2}].map((a,c)=>e.jsx(Cell,{fill:a.growth>=0?V[c%V.length]:"#ff0000"},`cell-${c}`))})]})})})]}),e.jsxs(j,{children:[e.jsxs(b,{children:[e.jsx(w,{children:"Salary Benchmarks"}),e.jsx(k,{children:"Average annual salaries by profession (ZAR)"})]}),e.jsx(g,{className:"h-80",children:e.jsx(ResponsiveContainer,{width:"100%",height:"100%",children:e.jsxs(BarChart,{layout:"vertical",data:[{role:"Software Developer",salary:65e4},{role:"Accountant",salary:52e4},{role:"Marketing Manager",salary:48e4},{role:"Data Analyst",salary:58e4},{role:"Teacher",salary:31e4},{role:"Nurse",salary:38e4}],margin:{top:5,right:30,left:100,bottom:5},children:[e.jsx(CartesianGrid,{strokeDasharray:"3 3"}),e.jsx(XAxis,{type:"number",domain:[0,8e5],tickFormatter:a=>`R${a/1e3}k`}),e.jsx(YAxis,{type:"category",dataKey:"role"}),e.jsx(Tooltip,{formatter:a=>[`R${a.toLocaleString()}`,"Avg. Salary"]}),e.jsx(Legend,{}),e.jsx(Bar,{dataKey:"salary",name:"Average Salary",fill:"#8884d8"})]})})})]}),e.jsxs(j,{className:"md:col-span-2",children:[e.jsxs(b,{children:[e.jsx(w,{children:"Market Insights and Recommendations"}),e.jsx(k,{children:"Personalized insights based on your profile and market trends"})]}),e.jsx(g,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[e.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"})," Industry Growth"]}),e.jsx("p",{className:"mt-2",children:"The IT sector is showing strong growth at 18.5% year-on-year, with particular demand in data analysis, cloud computing, and cybersecurity roles."})]}),e.jsxs("div",{className:"p-4 bg-green-50 rounded-lg",children:[e.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[e.jsx(se,{className:"h-5 w-5"})," Geographic Opportunities"]}),e.jsx("p",{className:"mt-2",children:"Johannesburg and Cape Town remain the primary job markets, but remote work opportunities have increased by 215% since 2023, opening more possibilities across South Africa."})]}),e.jsxs("div",{className:"p-4 bg-yellow-50 rounded-lg",children:[e.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[e.jsx(Ce,{className:"h-5 w-5"})," Career Advancement"]}),e.jsx("p",{className:"mt-2",children:"Based on your profile, consider developing data analysis skills further or exploring project management certifications to increase your marketability in the current job landscape."})]})]})}),e.jsx(_,{children:e.jsx(u,{className:"w-full",onClick:()=>l("/career-planning"),children:"Create Career Development Plan"})})]})]})}),e.jsx("div",{className:"mt-6",children:e.jsxs(j,{children:[e.jsxs(b,{className:"pb-3",children:[e.jsx(w,{children:"Job Market Pulse"}),e.jsxs(k,{children:["Updated ",new Date().toLocaleDateString("en-ZA",{day:"numeric",month:"long",year:"numeric"})]})]}),e.jsx(g,{children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"p-4 bg-white border rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Trending Industries"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{children:"Renewable Energy"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{children:"Healthcare Technology"})]}),e.jsxs("li",{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{children:"E-commerce"})]})]})]}),e.jsxs("div",{className:"p-4 bg-white border rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Economic Indicators"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:"Unemployment Rate:"}),e.jsx("span",{className:"font-medium",children:"32.9%"})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:"Job Creation (YoY):"}),e.jsx("span",{className:"font-medium text-green-600",children:"+2.3%"})]}),e.jsxs("li",{className:"flex justify-between",children:[e.jsx("span",{children:"GDP Growth:"}),e.jsx("span",{className:"font-medium text-green-600",children:"1.8%"})]})]})]}),e.jsxs("div",{className:"p-4 bg-white border rounded-lg",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Latest News"}),e.jsxs("ul",{className:"space-y-2 text-sm",children:[e.jsxs("li",{children:[e.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"New Government Initiative to Boost Youth Employment"}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"May 1, 2025"})]}),e.jsxs("li",{children:[e.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"Tech Companies Expanding Presence in Cape Town"}),e.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"April 28, 2025"})]})]})]})]})}),e.jsxs(_,{className:"flex justify-between pt-0",children:[e.jsx(u,{variant:"ghost",size:"sm",className:"text-xs",children:"Subscribe to Updates"}),e.jsx(u,{variant:"link",size:"sm",className:"text-xs",children:"View Full Economic Report"})]})]})}),e.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500",children:[e.jsx("p",{children:"Data sources: Statistics South Africa, Department of Labour, WorkWiseSA Market Analysis"}),e.jsxs("p",{className:"mt-1",children:["Last updated: ",new Date().toLocaleDateString("en-ZA")]})]})]}):e.jsx("div",{className:"flex items-center justify-center h-screen",children:e.jsxs(ye,{variant:"destructive",className:"w-96",children:[e.jsx(we,{className:"h-4 w-4"}),e.jsx(Ne,{children:"Authentication Required"}),e.jsx(be,{children:"Please log in to view the job distribution dashboard."})]})})}const xs=Object.freeze(Object.defineProperty({__proto__:null,default:Ke},Symbol.toStringTag,{value:"Module"}));export{xs as D,y as a};
