import{j as e}from"./vendor-ui-s4VaHhe3.js";import{b as n}from"./vendor-react-BLR_YkO_.js";import{m as g}from"./marked.esm-DKjyhwJX.js";import{F as o,T as a}from"./Textarea-NWNMmzce.js";import{B as x}from"./Button-DUkTpc71.js";import{C as y,a as v}from"./Card-DQpgXnqZ.js";import{r as w}from"./vendor-icons-CgtSIdDt.js";const S=({formState:h,onInitiateAIAssist:j})=>{var m;const{values:i,errors:u,touched:b,handleChange:t,handleBlur:r}=h,[l,f]=n.useState(!1),[c,d]=n.useState("");n.useEffect(()=>{if(i.description){const s=i.description.replace(/<script.*?>.*?<\/script>/gi,"");d(g(s))}else d("")},[i.description]);const p=((m=i.title)==null?void 0:m.trim())&&i.category;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Job Description & Requirements"}),e.jsx(o,{id:"job-description",label:"Main Job Description",error:b.description&&u.description,required:!0,children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(x,{variant:"ghost",size:"sm",onClick:()=>f(s=>!s),className:"text-xs py-1 h-auto",type:"button",children:[l?"Hide":"Show"," Formatting Help"]}),e.jsxs(x,{variant:"outline",className:"flex items-center gap-1.5",onClick:()=>j("description",{title:i.title,category:i.category,companyName:i.companyName,location:i.location,jobType:i.jobType},{aiDescriptionType:i.aiDescriptionType,aiCustomPrompt:i.aiCustomPrompt}),disabled:!p,type:"button",title:p?"Generate with AI":"Enter title & category in previous step",children:[e.jsx(w,{className:"h-4 w-4"})," Generate with AI"]})]}),l&&e.jsx(y,{className:"bg-gray-50 text-xs",children:e.jsxs(v,{className:"space-y-1 p-3",children:[e.jsxs("p",{children:[e.jsx("code",{children:"# Heading 1"}),", ",e.jsx("code",{children:"## Heading 2"}),", etc."]}),e.jsxs("p",{children:[e.jsx("code",{children:"**bold text**"})," for ",e.jsx("strong",{children:"bold text"})]}),e.jsxs("p",{children:[e.jsx("code",{children:"*italic text*"})," or ",e.jsx("code",{children:"_italic text_"})," for ",e.jsx("em",{children:"italic text"})]}),e.jsxs("p",{children:[e.jsx("code",{children:"- List item 1"}),e.jsx("br",{}),e.jsx("code",{children:"- List item 2"})," for bullet points"]}),e.jsxs("p",{children:[e.jsx("code",{children:"1. Ordered item 1"}),e.jsx("br",{}),e.jsx("code",{children:"2. Ordered item 2"})," for numbered lists"]}),e.jsxs("p",{children:[e.jsx("code",{children:"[link text](https://example.com)"})," for links"]}),e.jsxs("p",{children:[e.jsx("code",{children:"---"})," for a horizontal rule"]})]})}),e.jsx(a,{id:"job-description",value:i.description||"",onChange:s=>t("description",s.target.value),onBlur:()=>r("description"),className:"min-h-[250px] font-mono text-sm",placeholder:"Describe the position, responsibilities, culture, etc. Markdown is supported."})]})}),c&&e.jsxs("div",{className:"mt-4 border-t pt-4",children:[e.jsx("h4",{className:"text-sm font-medium mb-2 text-gray-600",children:"Description Preview:"}),e.jsx("div",{className:"prose prose-sm max-w-none border p-4 rounded-md bg-white shadow",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:c}})})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsx(o,{id:"job-responsibilities",label:"Key Responsibilities (Optional)",hint:"List main duties as bullet points. Markdown supported.",children:e.jsx(a,{id:"job-responsibilities",value:i.responsibilities||"",onChange:s=>t("responsibilities",s.target.value),onBlur:()=>r("responsibilities"),className:"min-h-[150px] font-mono text-sm",placeholder:`- Manage daily operations
- Handle customer inquiries
- Maintain inventory records`})}),e.jsx(o,{id:"job-requirements",label:"Qualifications & Skills (Optional)",hint:"List specific skills, experience, or education. Markdown supported.",children:e.jsx(a,{id:"job-requirements",value:i.requirements||"",onChange:s=>t("requirements",s.target.value),onBlur:()=>r("requirements"),className:"min-h-[150px] font-mono text-sm",placeholder:`- Minimum 2 years experience in X
- Proficient in Y software
- Valid driver's license`})})]})]})};export{S as default};
