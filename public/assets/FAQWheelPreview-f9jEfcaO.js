import{a as n,u as K,j as e,c as Y}from"./vendor-BOJOR_z2.js";import{u as U}from"./use-mobile-CCtnFASt.js";import{a as M}from"./apiClient-Ddw1nvhZ.js";import{aW as P,Y as X,aX as Q,_ as B,aY as G,f as Z,X as J}from"./contact-C28TQl3y.js";const F=[{id:"1",question:"How do I create a profile?",answer:"Creating your profile is quick and easy! Simply click the 'Sign Up' button, enter your basic details, upload a profile photo (optional), and list your skills and experience. The more complete your profile, the better your chances of finding work!",category:"job-seekers"},{id:"2",question:"What jobs are available?",answer:"Our platform specializes in connecting South Africans with entry-level and skill-based opportunities including domestic work, gardening, security, retail positions, drivers, artisans, call center agents, hospitality staff, and many more accessible job opportunities.",category:"job-seekers"},{id:"3",question:"Do I need qualifications?",answer:"Not at all! We focus on connecting people with opportunities based on skills, reliability, and work ethic rather than formal qualifications. Many of our positions require practical skills and a willingness to learn.",category:"job-seekers"},{id:"4",question:"Is it free for job seekers?",answer:"Yes! Creating a profile, browsing jobs, and applying for positions is completely free for all job seekers. We believe in removing barriers to employment.",category:"job-seekers"},{id:"5",question:"How do I know if I'm hired?",answer:"You'll receive notifications through our app, SMS, or email (based on your preferences) when an employer shows interest in your profile or invites you for an interview.",category:"job-seekers"},{id:"6",question:"How do employers post jobs?",answer:"After creating an employer account, simply click 'Post a Job,' fill in the details (position, location, requirements, salary range), and submit. Your job will be visible to suitable candidates within minutes!",category:"employers"},{id:"7",question:"What makes Workwise unique?",answer:"We focus specifically on accessible employment opportunities that don't require advanced degrees or extensive formal education. Our platform is designed to be usable even with basic phones and limited data, making opportunities accessible to all South Africans.",category:"general"},{id:"8",question:"How do you verify workers?",answer:"We implement a multi-tier verification system including ID verification, reference checks, and skills assessments for certain positions. Our optional trust score helps employers identify reliable candidates quickly.",category:"employers"}],_={async getFAQs(){try{return(await M.get("/api/faqs")).data.data}catch(t){return console.error("Error fetching FAQs:",t),F}},async getFAQsByCategory(t){try{return(await M.get(`/api/faqs/category/${t}`)).data.data}catch(o){return console.error(`Error fetching FAQs for category ${t}:`,o),F.filter(g=>g.category===t)}}},V=(t,o,g,i)=>{const r=typeof window<"u"&&(window.innerWidth<640||navigator.hardwareConcurrency<=4),m=Math.abs(o-t),a=Math.min(400,300+m*2),b=r?a*.8:a,w=performance.now();let f;const h=l=>l<.5?4*l*l*l:1-Math.pow(-2*l+2,3)/2,p=l=>{const v=l-w,d=Math.min(v/b,1),u=h(d),I=t+(o-t)*u;g(I),d<1?f=requestAnimationFrame(p):(g(o),i&&i())};return f=requestAnimationFrame(p),()=>{cancelAnimationFrame(f)}},ee=(t,o,g={leading:!0,trailing:!0})=>{let i,r=0;const{leading:m=!0,trailing:a=!0}=g;return function(...b){const w=this,f=Date.now();!r&&!m&&(r=f);const h=o-(f-r);h<=0||h>o?(i&&(clearTimeout(i),i=void 0),r=f,t.apply(w,b)):!i&&a&&(i=setTimeout(()=>{r=m?Date.now():0,i=void 0,t.apply(w,b)},h))}};function te(){const[t,o]=n.useState(0),[g,i]=n.useState(null),[r,m]=n.useState(!1),[a,b]=n.useState(!1),[w,f]=n.useState(-1),[h,p]=n.useState(!1),l=n.useRef(null),v=n.useRef(null),d=U(),{data:u=[],isLoading:I,error:x}=K({queryKey:["faqs"],queryFn:()=>_.getFAQs(),staleTime:5*60*1e3,refetchOnWindowFocus:!1}),j=n.useCallback(s=>{p(!0),V(t,s,c=>{o(c)},()=>p(!1))},[t]),k=n.useCallback(ee((s,c=!1)=>{const q=c?2:1,R=s==="left"?-45*q:45*q,A=t+R;if(p(!1),setTimeout(()=>{j(A)},10),d&&"vibrate"in navigator)try{navigator.vibrate(10)}catch{}},300,{leading:!0,trailing:!1}),[t,j,d]),C=n.useCallback(s=>{a&&l.current&&(clearInterval(l.current),b(!1)),i(u[s]),m(!0)},[a,u]),N=n.useCallback(()=>{m(!1),setTimeout(()=>i(null),300)},[]),S=n.useCallback(()=>{a?(l.current&&(clearInterval(l.current),l.current=null),b(!1)):(b(!0),l.current&&clearInterval(l.current),l.current=setInterval(()=>{o(s=>{const c=s+45;return j(c),c})},3e3))},[a,j]),$=n.useCallback((s,c)=>{const y=(s*(360/c)+t)%360,q=y*(Math.PI/180),R=d?140:200,A=c>6?R:R*.9,T="50%",L="50%",O=`calc(${T} + ${Math.cos(q)*A}px)`,H=`calc(${L} + ${Math.sin(q)*A}px)`;return{x:O,y:H,rotation:y}},[t,d]),E=n.useCallback(s=>{d&&s.preventDefault(),v.current={x:s.touches[0].clientX,y:s.touches[0].clientY}},[d]),D=n.useCallback(s=>{!v.current||!d||s.preventDefault()},[d]),W=n.useCallback(s=>{if(!v.current)return;const c={x:s.changedTouches[0].clientX,y:s.changedTouches[0].clientY},y=c.x-v.current.x,q=c.y-v.current.y;if(Math.abs(y)>Math.abs(q)){const R=d?30:50;if(Math.abs(y)>R&&(k(y>0?"left":"right"),d&&"vibrate"in navigator))try{navigator.vibrate(5)}catch{}}v.current=null},[k,d]);return n.useEffect(()=>{const s=c=>{if(!r)switch(c.key){case"ArrowLeft":k("left",c.shiftKey);break;case"ArrowRight":k("right",c.shiftKey);break;case"Tab":c.shiftKey?f(y=>y<=0?u.length-1:y-1):f(y=>y>=u.length-1?0:y+1);break}};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[k,r,u.length]),n.useEffect(()=>{if(!I&&u.length>0){const s=setTimeout(()=>{const c=u.length>0?360/u.length/2:22.5;o(c),setTimeout(()=>j(c),100)},300);return()=>clearTimeout(s)}},[I,u.length,j]),n.useEffect(()=>()=>{l.current&&clearInterval(l.current)},[]),{rotation:t,selectedQuestion:g,isModalOpen:r,isAutoRotating:a,focusedIndex:w,isAnimating:h,faqItems:u,isLoading:I,error:x,setFocusedIndex:f,handleRotate:k,handleQuestionClick:C,closeModal:N,toggleAutoRotation:S,getItemPosition:$,handleTouchStart:E,handleTouchMove:D,handleTouchEnd:W,isMobile:d}}const oe=n.lazy(()=>new Promise(t=>{setTimeout(()=>{t({default:({question:o,answer:g,onClose:i})=>{const r=a=>{a.key==="Escape"&&i()},m=n.useRef(null);return n.useEffect(()=>(m.current&&m.current.focus(),document.body.style.overflow="hidden",()=>{document.body.style.overflow=""}),[]),e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 px-4 animate-fadeIn",onClick:a=>{a.target===a.currentTarget&&i()},role:"dialog","aria-modal":"true","aria-labelledby":"faq-modal-title",onKeyDown:r,children:e.jsxs("div",{ref:m,className:"bg-white rounded-xl shadow-xl p-6 max-w-lg w-full animate-scaleIn",tabIndex:0,onClick:a=>a.stopPropagation(),style:{boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",animation:"scaleIn 0.3s ease-out forwards"},children:[e.jsxs("div",{className:"flex justify-between items-center mb-4 border-b border-gray-100 pb-3",children:[e.jsx("h2",{id:"faq-modal-title",className:"text-xl font-bold text-indigo-800",children:o}),e.jsx("button",{onClick:i,className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-indigo-500 rounded-full p-1 transition-colors","aria-label":"Close modal",children:e.jsx(J,{size:24})})]}),e.jsx("div",{className:"text-gray-700 prose max-w-none",children:e.jsx("p",{className:"leading-relaxed",children:g})}),e.jsx("div",{className:"mt-6 flex justify-end space-x-2",children:e.jsx("button",{onClick:i,className:"px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500 focus:outline-none transition-colors shadow-sm hover:shadow","aria-label":"Close FAQ modal",children:"Close"})}),e.jsx("style",{jsx:!0,children:`
                @keyframes scaleIn {
                  from { transform: scale(0.95); opacity: 0; }
                  to { transform: scale(1); opacity: 1; }
                }

                @keyframes fadeIn {
                  from { opacity: 0; }
                  to { opacity: 1; }
                }

                .animate-scaleIn {
                  animation: scaleIn 0.3s ease-out forwards;
                }

                .animate-fadeIn {
                  animation: fadeIn 0.2s ease-out forwards;
                }
              `})]})})}})},100)})),z=n.memo(({item:t,position:o,rotation:g,onClick:i,isFocused:r,index:m,isMobile:a})=>{const{x:b,y:w,rotation:f}=o,[h,p]=Y.useState(!1),l=u=>{(u.key==="Enter"||u.key===" ")&&(u.preventDefault(),i())},v={left:b,top:w,width:r?"12rem":h?"11rem":"10.5rem",height:r?"9rem":h?"8rem":"7.5rem",transform:`translate(-50%, -50%) rotate(${f}deg)`,zIndex:r?30:h?25:20,transition:a?"transform 0.35s cubic-bezier(0.33, 1, 0.68, 1), width 0.3s, height 0.3s":"transform 0.4s cubic-bezier(0.33, 1, 0.68, 1), width 0.35s cubic-bezier(0.33, 1, 0.68, 1), height 0.35s cubic-bezier(0.33, 1, 0.68, 1)",boxShadow:r?"0 10px 25px -5px rgba(79, 70, 229, 0.4)":h?"0 8px 20px -4px rgba(79, 70, 229, 0.3)":"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)",willChange:"transform, left, top",backfaceVisibility:"hidden",perspective:"1000px",transformStyle:"preserve-3d",overflow:"hidden"},d=()=>{if(!t.category)return"border-indigo-600 hover:border-indigo-800";switch(t.category){case"job-seekers":return"border-blue-600 hover:border-blue-800";case"employers":return"border-purple-600 hover:border-purple-800";case"general":return"border-indigo-600 hover:border-indigo-800";default:return"border-indigo-600 hover:border-indigo-800"}};return e.jsx("div",{className:`absolute bg-white rounded-2xl shadow-lg cursor-pointer transform -translate-x-1/2 -translate-y-1/2 hover:scale-110 transition-all duration-300 flex items-center justify-center p-4 border-2 faq-item ${r?"border-yellow-500 shadow-xl scale-110 z-30":`${d()} hover:shadow-xl`}`,style:v,onClick:i,onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),onFocus:()=>p(!0),onBlur:()=>p(!1),role:"button","aria-label":`FAQ question: ${t.question}${t.category?`, Category: ${t.category}`:""}`,tabIndex:0,"data-index":m,"data-category":t.category||"none",onKeyDown:l,children:e.jsxs("div",{style:{transform:`rotate(${-f}deg)`,width:"100%",transition:"transform 0.4s cubic-bezier(0.33, 1, 0.68, 1)",willChange:"transform",backfaceVisibility:"hidden",perspective:"1000px"},children:[e.jsx("p",{className:`font-medium text-center overflow-hidden px-2 ${r?"text-base text-indigo-900 leading-tight":h?"text-sm text-indigo-800 leading-tight":"text-sm text-indigo-700 leading-tight"}`,style:{display:"-webkit-box",WebkitLineClamp:4,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis",maxHeight:"5em"},children:t.question}),t.category&&e.jsx("div",{className:"mt-2 flex justify-center",children:e.jsx("span",{className:`text-xs px-2 py-0.5 rounded-full ${t.category==="job-seekers"?"bg-blue-100 text-blue-800":t.category==="employers"?"bg-purple-100 text-purple-800":"bg-indigo-100 text-indigo-800"}`,children:t.category})})]})})},(t,o)=>t.item.question===o.item.question&&t.item.category===o.item.category&&t.position.x===o.position.x&&t.position.y===o.position.y&&t.position.rotation===o.position.rotation&&t.isFocused===o.isFocused),re=()=>{const{rotation:t,selectedQuestion:o,isModalOpen:g,isAutoRotating:i,focusedIndex:r,isAnimating:m,faqItems:a,isLoading:b,error:w,handleRotate:f,handleQuestionClick:h,closeModal:p,toggleAutoRotation:l,getItemPosition:v,handleTouchStart:d,handleTouchMove:u,handleTouchEnd:I,isMobile:x}=te(),j=n.useRef(null),k=n.useRef(null);return e.jsxs("div",{className:"flex flex-col items-center justify-center w-full p-4 bg-gradient-to-b from-indigo-50 to-white",ref:j,tabIndex:-1,"aria-label":"FAQ Wheel Interactive Display",children:[e.jsxs("div",{className:`pt-8 ${x?"pb-2 mb-2":"pb-4 mb-4"}`,children:[e.jsx("h1",{className:`font-bold text-center text-indigo-800 ${x?"text-3xl":"text-4xl"}`,children:"Workwise SA FAQ"}),e.jsxs("div",{className:"mt-4 text-center",children:[e.jsxs("div",{className:"hidden md:block bg-indigo-50 rounded-lg py-2 px-4 mx-auto max-w-lg",children:[e.jsx(P,{className:"inline-block w-4 h-4 mr-1 mb-1 text-indigo-600","aria-hidden":"true"}),e.jsx("span",{className:"text-indigo-700 font-medium",children:"Use arrow keys to rotate (Shift+arrows for faster), Tab to navigate questions"})]}),x&&e.jsx("p",{className:"mt-2 text-center text-indigo-700 font-medium text-sm bg-indigo-50 mx-auto py-2 px-4 rounded-lg inline-block",children:"Swipe to rotate, tap questions to learn more"})]}),e.jsx("p",{className:"mt-3 text-center text-gray-600 px-4 font-medium",children:x?"Tap any question to learn more":"Hover over any question and click to learn more"}),e.jsx("div",{className:"sr-only",children:"Use left and right arrow keys to rotate the wheel. Hold Shift with arrow keys for faster rotation. Press Tab to navigate between questions, and Enter to select."})]}),w&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center px-4",children:[e.jsx(X,{className:"w-12 h-12 text-red-500 mb-4","aria-hidden":"true"}),e.jsx("p",{className:"text-lg text-red-700 mb-2",children:"Sorry, we couldn't load the FAQ data"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Please try refreshing the page"})]}),b&&!w&&e.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[e.jsx(Q,{className:"w-12 h-12 text-indigo-600 animate-spin mb-4","aria-hidden":"true"}),e.jsx("p",{className:"text-lg text-indigo-800",children:"Loading FAQ data..."})]}),e.jsx("style",{children:`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }

        .wheel-container {
          animation: fadeIn 0.5s ease-out;
          will-change: transform; /* Optimize for animations */
          transform: translateZ(0); /* Force GPU acceleration */
        }

        .faq-item {
          transition: transform 0.4s cubic-bezier(0.33, 1, 0.68, 1),
                      left 0.4s cubic-bezier(0.33, 1, 0.68, 1),
                      top 0.4s cubic-bezier(0.33, 1, 0.68, 1);
          will-change: transform, left, top; /* Optimize for animations */
          transform: translateZ(0); /* Force GPU acceleration */
          backface-visibility: hidden; /* Prevent flickering */
          perspective: 1000; /* Improve 3D rendering */
          transform-style: preserve-3d; /* Better 3D performance */
        }

        /* Reduce animation complexity on mobile */
        @media (max-width: 640px) {
          .faq-item {
            transition: transform 0.35s cubic-bezier(0.33, 1, 0.68, 1),
                        left 0.35s cubic-bezier(0.33, 1, 0.68, 1),
                        top 0.35s cubic-bezier(0.33, 1, 0.68, 1);
          }
        }
      `}),!b&&!w&&a.length>0&&e.jsxs("div",{className:`relative w-full ${x?"max-w-sm h-[400px]":"max-w-4xl h-[480px]"} mx-auto flex items-center justify-center wheel-container`,ref:k,onTouchStart:d,onTouchMove:u,onTouchEnd:I,"aria-roledescription":"Interactive FAQ wheel",children:[e.jsxs("div",{className:`absolute left-1/2 top-1/2 transform -translate-x-1/2 -translate-y-1/2 ${x?"w-20 h-20":"w-28 h-28"} bg-indigo-600 rounded-full flex flex-col items-center justify-center text-white font-bold z-30 shadow-lg transition-all duration-300 hover:shadow-xl`,children:[e.jsx("span",{className:`${x?"text-lg mb-1":"text-xl mb-2"}`,children:"FAQ"}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mt-1",children:[e.jsx("button",{className:"p-2 bg-indigo-700 hover:bg-indigo-800 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 disabled:opacity-50 focus:ring-2 focus:ring-white focus:outline-none",onClick:()=>f("left"),disabled:m,"aria-label":"Rotate Left",children:e.jsx(B,{size:x?14:18})}),e.jsx("button",{className:`p-2 ${i?"bg-indigo-400":"bg-indigo-700"} hover:bg-indigo-800 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 focus:ring-2 focus:ring-white focus:outline-none`,onClick:l,"aria-label":i?"Stop Auto-Rotation":"Start Auto-Rotation",children:e.jsx(G,{size:x?14:18,className:i?"animate-spin":""})}),e.jsx("button",{className:"p-2 bg-indigo-700 hover:bg-indigo-800 rounded-full flex items-center justify-center transition-all duration-300 hover:scale-110 disabled:opacity-50 focus:ring-2 focus:ring-white focus:outline-none",onClick:()=>f("right"),disabled:m,"aria-label":"Rotate Right",children:e.jsx(Z,{size:x?14:18})})]})]}),a.map((C,N)=>{const S=v(N,a.length);return e.jsx(z,{item:C,position:S,rotation:t,onClick:()=>h(N),isFocused:r===N,index:N,isMobile:x},C.id||N)})]}),g&&o&&e.jsx(n.Suspense,{fallback:e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:e.jsxs("div",{className:"bg-white rounded-xl p-8 flex items-center justify-center",children:[e.jsx(Q,{className:"w-8 h-8 text-indigo-600 animate-spin","aria-hidden":"true"}),e.jsx("span",{className:"ml-3 text-indigo-800",children:"Loading..."})]})}),children:e.jsx(oe,{question:o.question,answer:o.answer,onClose:p})})]})};z.displayName="FAQItemCard";export{re as F};
